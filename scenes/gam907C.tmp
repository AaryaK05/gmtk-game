[gd_scene load_steps=36 format=3 uid="uid://bou5ybxuppsop"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_olvff"]
[ext_resource type="PackedScene" uid="uid://bj6fg26iursll" path="res://scenes/mountain.tscn" id="1_v3044"]
[ext_resource type="Script" path="res://scripts/obj_spawner.gd" id="2_1p5j0"]
[ext_resource type="PackedScene" uid="uid://dsv8ap28bn58" path="res://scenes/player.tscn" id="2_ch1h5"]
[ext_resource type="Script" path="res://scripts/player.gd" id="4_vy6fh"]
[ext_resource type="PackedScene" uid="uid://dnglxpd1nepii" path="res://scenes/slingshot.tscn" id="5_7mr43"]
[ext_resource type="PackedScene" uid="uid://bfsl86kk1n0sk" path="res://scenes/rock.tscn" id="5_usuh1"]
[ext_resource type="Theme" uid="uid://cxt16q4pote33" path="res://assets/resource/labels.tres" id="7_33va5"]
[ext_resource type="PackedScene" uid="uid://bqcmus1w1qco7" path="res://scenes/barrier.tscn" id="8_i8l62"]
[ext_resource type="Theme" uid="uid://dnp5slwa8trkm" path="res://assets/resource/button.tres" id="8_w1gv6"]
[ext_resource type="PackedScene" uid="uid://lqvdja8um638" path="res://scenes/gate.tscn" id="9_7pqwp"]
[ext_resource type="Texture2D" uid="uid://cccshpc0vrxag" path="res://assets/art/zeus/sprite_0.png" id="9_et7x6"]
[ext_resource type="FontFile" uid="uid://2xmxncyes5mu" path="res://assets/fonts/Greek-Freak.otf" id="9_vv3mi"]
[ext_resource type="Texture2D" uid="uid://cic53qjks4dfb" path="res://assets/art/zeus/sprite_1.png" id="10_85yir"]
[ext_resource type="Texture2D" uid="uid://7mmn2fxq4fjw" path="res://assets/art/zeus/sprite_2.png" id="11_hr1s3"]
[ext_resource type="Texture2D" uid="uid://73j5wco6wjd1" path="res://assets/art/zeus/sprite_3.png" id="12_6u7ru"]
[ext_resource type="AudioStream" uid="uid://crvsf5qlhgey0" path="res://assets/music/Climbing.ogg" id="17_6oxv7"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_qqewi"]
sky_top_color = Color(0.670588, 0.364706, 0.290196, 1)
sky_horizon_color = Color(0.762591, 0.648617, 0.147722, 1)
ground_bottom_color = Color(0.745098, 0.25098, 0.0509804, 1)
ground_horizon_color = Color(0.952715, 0.83368, 0.866797, 1)

[sub_resource type="Sky" id="Sky_tjkj7"]
sky_material = SubResource("ProceduralSkyMaterial_qqewi")

[sub_resource type="Environment" id="Environment_cmf3c"]
background_mode = 2
background_color = Color(0.678431, 0.47451, 0, 1)
sky = SubResource("Sky_tjkj7")

[sub_resource type="SpriteFrames" id="SpriteFrames_4rila"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_et7x6")
}, {
"duration": 1.0,
"texture": ExtResource("10_85yir")
}, {
"duration": 1.0,
"texture": ExtResource("11_hr1s3")
}, {
"duration": 1.0,
"texture": ExtResource("12_6u7ru")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="BoxShape3D" id="BoxShape3D_egqr1"]
size = Vector3(1.58594, 1, 1.39307)

[sub_resource type="PlaneMesh" id="PlaneMesh_4j264"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_wq46v"]

[sub_resource type="PlaneMesh" id="PlaneMesh_txljc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4c0gx"]
albedo_color = Color(0.862745, 0.388235, 0.054902, 1)

[sub_resource type="Animation" id="Animation_p3b37"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("player/Camera3D/dialogue/RichTextLabel2:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("player/Camera3D/dialogue/RichTextLabel:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("player/Camera3D/dialogue:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("player/Camera3D:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.979593, 1.44715, 1.06027)]
}

[sub_resource type="Animation" id="Animation_sabha"]
resource_name = "camera_start_pan"
length = 10.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("player/Camera3D/dialogue/RichTextLabel2:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4.56667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("player/Camera3D/dialogue/RichTextLabel:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 5.63333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [false, true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("player/Camera3D/dialogue:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 9.96667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [true, false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("player/Camera3D:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-0.979593, 1.44715, 1.06027), Vector3(-0.979593, 0.313741, 1.06027)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wu8a3"]
_data = {
"RESET": SubResource("Animation_p3b37"),
"camera_start_pan": SubResource("Animation_sabha")
}

[sub_resource type="BoxMesh" id="BoxMesh_q7ukp"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ibv2n"]
albedo_color = Color(0.111917, 0.286092, 0.497242, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_cwv5k"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5xml6"]
albedo_color = Color(0.232544, 0.0698968, 0.0396285, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_gwuds"]
material = SubResource("StandardMaterial3D_5xml6")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_jva8u"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[node name="game" type="Node"]
script = ExtResource("1_olvff")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_cmf3c")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.772212, -0.623749, -0.120934, 0.0648712, -0.11194, 0.991595, -0.632044, -0.773567, -0.045978, 26.8889, 99.8103, 89.8313)

[node name="player" parent="." instance=ExtResource("2_ch1h5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.39639, 7.0699, 172.955)
script = ExtResource("4_vy6fh")

[node name="Camera3D" type="Camera3D" parent="player"]
transform = Transform3D(0.972111, 0.035594, -0.231804, -0.013831, 0.995396, 0.0948425, 0.234113, -0.0889914, 0.968128, -0.979593, 1.44715, 1.06027)
current = true

[node name="pause" type="Control" parent="player/Camera3D"]
process_mode = 2
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 324.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
mouse_default_cursor_shape = 1
metadata/_edit_use_anchors_ = true

[node name="ColorRect" type="ColorRect" parent="player/Camera3D/pause"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -579.0
offset_top = -328.5
offset_right = 579.0
offset_bottom = 328.5
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
mouse_filter = 2
color = Color(0.137255, 0.137255, 0.137255, 0.478431)
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="player/Camera3D/pause"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -71.0
offset_top = -253.0
offset_right = 72.0
offset_bottom = -205.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("7_33va5")
text = "PAUSED"
metadata/_edit_use_anchors_ = true

[node name="continueBtn" type="Button" parent="player/Camera3D/pause"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -98.0
offset_top = -14.0
offset_right = 88.0
offset_bottom = 82.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_w1gv6")
text = "Continue
"
vertical_icon_alignment = 0
metadata/_edit_use_anchors_ = true

[node name="restartBtn" type="Button" parent="player/Camera3D/pause"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -113.0
offset_top = -190.0
offset_right = 100.0
offset_bottom = -46.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_w1gv6")
text = "Restart

"
vertical_icon_alignment = 0
metadata/_edit_use_anchors_ = true

[node name="backToMenuBtn" type="Button" parent="player/Camera3D/pause"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -145.0
offset_top = 107.0
offset_right = 139.0
offset_bottom = 203.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_w1gv6")
text = "Back to Menu
"
vertical_icon_alignment = 0
metadata/_edit_use_anchors_ = true

[node name="dialogue" type="Control" parent="player/Camera3D"]
visible = false
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -576.0
offset_right = 576.0
offset_bottom = 156.0
grow_horizontal = 2

[node name="ColorRect" type="ColorRect" parent="player/Camera3D/dialogue"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 268.0
offset_right = -387.0
offset_bottom = -15.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.14588, 1.17557)
color = Color(0.192157, 0.192157, 0.192157, 0.435294)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="player/Camera3D/dialogue"]
position = Vector2(745, 81)
sprite_frames = SubResource("SpriteFrames_4rila")
autoplay = "default"

[node name="RichTextLabel2" type="RichTextLabel" parent="player/Camera3D/dialogue"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -265.0
offset_top = -20.0
offset_right = 73.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("9_vv3mi")
text = "Zeus Bursts WITH LAUGHTER IN DELIGHT OF THE TOrRMENT HE'S UNLEASHED UPON Sisyphus.
"

[node name="RichTextLabel" type="RichTextLabel" parent="player/Camera3D/dialogue"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -265.0
offset_top = -18.0
offset_right = 31.0
offset_bottom = 46.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("9_vv3mi")
text = "Help the poor bloke escape this hellscape to safeguard the depleting remnants of his sanity."

[node name="weightLeft" type="Label" parent="player/Camera3D"]
offset_right = 40.0
offset_bottom = 23.0
theme_override_fonts/font = ExtResource("9_vv3mi")
text = "Weight to Hit Gate:5kg"
metadata/_edit_use_anchors_ = true

[node name="gameOver" type="Label" parent="player/Camera3D"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -48.5
offset_top = -9.5
offset_right = 48.5
offset_bottom = 9.5
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("9_vv3mi")
theme_override_font_sizes/font_size = 100
text = "CURSE BROKEN!"

[node name="result" type="Label" parent="player/Camera3D"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 1, 0, 1)
theme_override_fonts/font = ExtResource("9_vv3mi")

[node name="Timer" type="Timer" parent="player"]
one_shot = true

[node name="Rock" parent="." instance=ExtResource("5_usuh1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.2638, 6.9034, 171.043)
collision_layer = 66

[node name="mountain" parent="." instance=ExtResource("1_v3044")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.70035, 8.38155, 17.3977)

[node name="slingy" parent="." instance=ExtResource("5_7mr43")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.66549, 56.8929, 44.6315)

[node name="door" parent="." instance=ExtResource("9_7pqwp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.4598, 6.09815, 208.245)

[node name="spawners" type="Node3D" parent="."]

[node name="level1" type="Area3D" parent="spawners"]
collision_mask = 65

[node name="CollisionShape3D" type="CollisionShape3D" parent="spawners/level1"]
transform = Transform3D(41.0848, 0, 0, 0, 9.7665, -12.1693, 0, 4.02008, 29.5645, 1.16139, 13.9984, 142.754)
shape = SubResource("BoxShape3D_egqr1")

[node name="objSpawner" type="MeshInstance3D" parent="spawners"]
transform = Transform3D(29.4931, 0, 0, 0, 1.84872, 0, 0, 0, 1, 3.37776, 27.6848, 118.908)
mesh = SubResource("PlaneMesh_4j264")
script = ExtResource("2_1p5j0")

[node name="objSpawner2" type="Marker3D" parent="spawners"]
transform = Transform3D(0.993651, -0.11251, 0, 0.11251, 0.993651, 0, 0, 0, 1, -10.5891, 32.8827, 117.577)
script = ExtResource("2_1p5j0")

[node name="objSpawner3" type="Marker3D" parent="spawners"]
transform = Transform3D(0.993651, -0.11251, 0, 0.11251, 0.993651, 0, 0, 0, 1, 19.2975, 33.8701, 130.814)
script = ExtResource("2_1p5j0")

[node name="level2" type="Area3D" parent="spawners"]
collision_mask = 65

[node name="CollisionShape3D" type="CollisionShape3D" parent="spawners/level2"]
transform = Transform3D(41.0848, 0, 0, 0, 9.7665, -12.1693, 0, 4.02008, 29.5645, 1.16139, 29.5454, 100.212)
shape = SubResource("BoxShape3D_egqr1")

[node name="RockFreeArea" type="Area3D" parent="."]
transform = Transform3D(2.28126, 0, 0, 0, 1, 0, 0, 0, 1, 78.5655, 0, 50.2055)
collision_layer = 0
collision_mask = 16
monitorable = false

[node name="InfinitePlaneShape" type="CollisionShape3D" parent="RockFreeArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -103.035, 6.25906, 151.425)
shape = SubResource("WorldBoundaryShape3D_wq46v")

[node name="Background" type="Node3D" parent="."]

[node name="mountain2" parent="Background" instance=ExtResource("1_v3044")]
transform = Transform3D(1.34485, 0, 0, 0, 1.8308, 0, 0, 0, 0.903822, 227.223, -1.00478, -152.508)

[node name="mountain3" parent="Background" instance=ExtResource("1_v3044")]
transform = Transform3D(1.93765, 0, 0, 0, 1.06429, 0, 0, 0, 1, 322.281, 1.04038, 127.805)

[node name="mountain4" parent="Background" instance=ExtResource("1_v3044")]
transform = Transform3D(1.15015, 0, 0, 0, 1.64037, 0, 0, 0, 0.831766, -217.492, -2.1951, -102.9)

[node name="land" type="MeshInstance3D" parent="Background"]
transform = Transform3D(1066.79, 0, 0, 0, 2.08824, 0, 0, 0, 1813.59, 0, -120.944, 0)
mesh = SubResource("PlaneMesh_txljc")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_4c0gx")

[node name="other" type="Node3D" parent="."]

[node name="Barriers" type="Node3D" parent="other"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.79048, 0, 0)

[node name="Barrier" parent="other/Barriers" instance=ExtResource("8_i8l62")]
transform = Transform3D(1.60568, 0, 0, 0, 1, 0, 0, 0, 4.72957, -39.6179, 4.75482, 177.13)

[node name="Barrier2" parent="other/Barriers" instance=ExtResource("8_i8l62")]
transform = Transform3D(1.60568, 0, 0, 0, 1, 0, 0, 0, 3.32699, 47.8689, 4.75482, 180.477)

[node name="cameraAnimations" type="AnimationPlayer" parent="other"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_wu8a3")
}
autoplay = "camera_start_pan"

[node name="gate" type="StaticBody3D" parent="other"]
transform = Transform3D(-1.1059, 0, -9.66808e-08, 0, 1.1059, 0, 9.66808e-08, 0, -1.1059, 0, 0, 389.954)
visible = false
collision_layer = 129

[node name="MeshInstance3D" type="MeshInstance3D" parent="other/gate"]
transform = Transform3D(367.866, 0, -7.10543e-15, 0, 192.779, 0, 0, 0, 1, -2.63657e-06, 0, 156.464)
mesh = SubResource("BoxMesh_q7ukp")
surface_material_override/0 = SubResource("StandardMaterial3D_ibv2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="other/gate"]
transform = Transform3D(217.141, 0, 0, 0, 217.141, 0, 0, 0, 217.141, -0.309177, 0, 19.1452)
shape = SubResource("BoxShape3D_cwv5k")

[node name="BgMusic" type="AudioStreamPlayer" parent="other"]
stream = ExtResource("17_6oxv7")
autoplay = true
bus = &"music"

[node name="Land" type="MeshInstance3D" parent="other"]
transform = Transform3D(163.13, 0, 0, 0, 3.65426, 0, 0, 0, 241.454, 11.8374, 6.09815, 100.524)
mesh = SubResource("PlaneMesh_gwuds")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="other/Land"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="other/Land/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_jva8u")

[node name="slingshotMarker" type="Marker3D" parent="other"]
transform = Transform3D(0.972533, 0, -0.232766, 0, 1, 0, 0.232766, 0, 0.972533, 5.10717, 62.0475, 30.5927)

[node name="spawnMarker" type="Marker3D" parent="other"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.573654, 4.61458, 6.37764, 174.025)

[connection signal="pressed" from="player/Camera3D/pause/continueBtn" to="." method="_on_continue_btn_pressed"]
[connection signal="pressed" from="player/Camera3D/pause/restartBtn" to="." method="_on_restart_btn_pressed"]
[connection signal="pressed" from="player/Camera3D/pause/backToMenuBtn" to="." method="_on_back_to_menu_btn_pressed"]
[connection signal="body_entered" from="spawners/level1" to="." method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="spawners/level2" to="." method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="RockFreeArea" to="." method="_on_rock_free_area_body_entered"]
